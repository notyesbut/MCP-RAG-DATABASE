2025-07-27 10:20:17.004 [ERROR] [enterprise-mcp-api]: uncaughtException: Cannot read properties of undefined (reading 'RETRIEVE')
TypeError: Cannot read properties of undefined (reading 'RETRIEVE')
    at NaturalLanguageParser.initializePatterns (/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/parser.ts:1259:20)
    at new NaturalLanguageParser (/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/parser.ts:224:10)
    at new RAG2Controller (/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/rag2.ts:34:19)
    at new ApiServer (/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts:72:31)
    at config (/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts:504:26)
    at Object.<anonymous> (/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts:512:1)
    at Module._compile (node:internal/modules/cjs/loader:1529:14)
    at Object.transformer (/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/tsx/dist/register-DfubRCxM.cjs:2:823)
    at Module.load (node:internal/modules/cjs/loader:1275:32)
    at Module._load (node:internal/modules/cjs/loader:1096:12)
TypeError: Cannot read properties of undefined (reading 'RETRIEVE')
    at NaturalLanguageParser.initializePatterns (/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/parser.ts:1259:20)
    at new NaturalLanguageParser (/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/parser.ts:224:10)
    at new RAG2Controller (/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/rag2.ts:34:19)
    at new ApiServer (/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts:72:31)
    at config (/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts:504:26)
    at Object.<anonymous> (/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts:512:1)
    at Module._compile (node:internal/modules/cjs/loader:1529:14)
    at Object.transformer (/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/tsx/dist/register-DfubRCxM.cjs:2:823)
    at Module.load (node:internal/modules/cjs/loader:1275:32)
    at Module._load (node:internal/modules/cjs/loader:1096:12)
{
  "error": {},
  "exception": true,
  "date": "Sun Jul 27 2025 10:20:17 GMT-0400 (Eastern Daylight Time)",
  "process": {
    "pid": 2325877,
    "uid": 1000,
    "gid": 1000,
    "cwd": "/home/glebs/IdeaProjects/ragdb/untitled/src",
    "execPath": "/home/glebs/.nvm/versions/node/v20.19.3/bin/node",
    "version": "v20.19.3",
    "argv": [
      "/home/glebs/.nvm/versions/node/v20.19.3/bin/node",
      "/home/glebs/IdeaProjects/ragdb/untitled/src/demo-integration.ts"
    ],
    "memoryUsage": {
      "rss": 332017664,
      "heapTotal": 155561984,
      "heapUsed": 135346720,
      "external": 28351034,
      "arrayBuffers": 19066853
    }
  },
  "os": {
    "loadavg": [
      3.88,
      3.57,
      3.27
    ],
    "uptime": 106101.43
  },
  "trace": [
    {
      "column": 20,
      "file": "/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/parser.ts",
      "function": "NaturalLanguageParser.initializePatterns",
      "line": 1259,
      "method": "initializePatterns",
      "native": false
    },
    {
      "column": 10,
      "file": "/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/parser.ts",
      "function": "new NaturalLanguageParser",
      "line": 224,
      "method": null,
      "native": false
    },
    {
      "column": 19,
      "file": "/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/rag2.ts",
      "function": "new RAG2Controller",
      "line": 34,
      "method": null,
      "native": false
    },
    {
      "column": 31,
      "file": "/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts",
      "function": "new ApiServer",
      "line": 72,
      "method": null,
      "native": false
    },
    {
      "column": 26,
      "file": "/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts",
      "function": "config",
      "line": 504,
      "method": null,
      "native": false
    },
    {
      "column": 1,
      "file": "/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts",
      "function": null,
      "line": 512,
      "method": null,
      "native": false
    },
    {
      "column": 14,
      "file": "node:internal/modules/cjs/loader",
      "function": "Module._compile",
      "line": 1529,
      "method": "_compile",
      "native": false
    },
    {
      "column": 823,
      "file": "/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/tsx/dist/register-DfubRCxM.cjs",
      "function": "Object.transformer",
      "line": 2,
      "method": "transformer",
      "native": false
    },
    {
      "column": 32,
      "file": "node:internal/modules/cjs/loader",
      "function": "Module.load",
      "line": 1275,
      "method": "load",
      "native": false
    },
    {
      "column": 12,
      "file": "node:internal/modules/cjs/loader",
      "function": "Module._load",
      "line": 1096,
      "method": "_load",
      "native": false
    }
  ]
}
