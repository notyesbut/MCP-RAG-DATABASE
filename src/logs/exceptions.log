2025-07-27 10:20:17.004 [ERROR] [enterprise-mcp-api]: uncaughtException: Cannot read properties of undefined (reading 'RETRIEVE')
TypeError: Cannot read properties of undefined (reading 'RETRIEVE')
    at NaturalLanguageParser.initializePatterns (/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/parser.ts:1259:20)
    at new NaturalLanguageParser (/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/parser.ts:224:10)
    at new RAG2Controller (/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/rag2.ts:34:19)
    at new ApiServer (/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts:72:31)
    at config (/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts:504:26)
    at Object.<anonymous> (/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts:512:1)
    at Module._compile (node:internal/modules/cjs/loader:1529:14)
    at Object.transformer (/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/tsx/dist/register-DfubRCxM.cjs:2:823)
    at Module.load (node:internal/modules/cjs/loader:1275:32)
    at Module._load (node:internal/modules/cjs/loader:1096:12)
TypeError: Cannot read properties of undefined (reading 'RETRIEVE')
    at NaturalLanguageParser.initializePatterns (/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/parser.ts:1259:20)
    at new NaturalLanguageParser (/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/parser.ts:224:10)
    at new RAG2Controller (/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/rag2.ts:34:19)
    at new ApiServer (/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts:72:31)
    at config (/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts:504:26)
    at Object.<anonymous> (/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts:512:1)
    at Module._compile (node:internal/modules/cjs/loader:1529:14)
    at Object.transformer (/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/tsx/dist/register-DfubRCxM.cjs:2:823)
    at Module.load (node:internal/modules/cjs/loader:1275:32)
    at Module._load (node:internal/modules/cjs/loader:1096:12)
{
  "error": {},
  "exception": true,
  "date": "Sun Jul 27 2025 10:20:17 GMT-0400 (Eastern Daylight Time)",
  "process": {
    "pid": 2325877,
    "uid": 1000,
    "gid": 1000,
    "cwd": "/home/glebs/IdeaProjects/ragdb/untitled/src",
    "execPath": "/home/glebs/.nvm/versions/node/v20.19.3/bin/node",
    "version": "v20.19.3",
    "argv": [
      "/home/glebs/.nvm/versions/node/v20.19.3/bin/node",
      "/home/glebs/IdeaProjects/ragdb/untitled/src/demo-integration.ts"
    ],
    "memoryUsage": {
      "rss": 332017664,
      "heapTotal": 155561984,
      "heapUsed": 135346720,
      "external": 28351034,
      "arrayBuffers": 19066853
    }
  },
  "os": {
    "loadavg": [
      3.88,
      3.57,
      3.27
    ],
    "uptime": 106101.43
  },
  "trace": [
    {
      "column": 20,
      "file": "/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/parser.ts",
      "function": "NaturalLanguageParser.initializePatterns",
      "line": 1259,
      "method": "initializePatterns",
      "native": false
    },
    {
      "column": 10,
      "file": "/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/parser.ts",
      "function": "new NaturalLanguageParser",
      "line": 224,
      "method": null,
      "native": false
    },
    {
      "column": 19,
      "file": "/home/glebs/IdeaProjects/ragdb/untitled/src/rag/query/rag2.ts",
      "function": "new RAG2Controller",
      "line": 34,
      "method": null,
      "native": false
    },
    {
      "column": 31,
      "file": "/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts",
      "function": "new ApiServer",
      "line": 72,
      "method": null,
      "native": false
    },
    {
      "column": 26,
      "file": "/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts",
      "function": "config",
      "line": 504,
      "method": null,
      "native": false
    },
    {
      "column": 1,
      "file": "/home/glebs/IdeaProjects/ragdb/untitled/src/api/server.ts",
      "function": null,
      "line": 512,
      "method": null,
      "native": false
    },
    {
      "column": 14,
      "file": "node:internal/modules/cjs/loader",
      "function": "Module._compile",
      "line": 1529,
      "method": "_compile",
      "native": false
    },
    {
      "column": 823,
      "file": "/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/tsx/dist/register-DfubRCxM.cjs",
      "function": "Object.transformer",
      "line": 2,
      "method": "transformer",
      "native": false
    },
    {
      "column": 32,
      "file": "node:internal/modules/cjs/loader",
      "function": "Module.load",
      "line": 1275,
      "method": "load",
      "native": false
    },
    {
      "column": 12,
      "file": "node:internal/modules/cjs/loader",
      "function": "Module._load",
      "line": 1096,
      "method": "_load",
      "native": false
    }
  ]
}
2025-07-28 22:23:03.054 [ERROR] [enterprise-mcp-api]: uncaughtException: Transform failed with 1 error:
/home/glebs/IdeaProjects/ragdb/untitled/src/mcp/registry/MCPRegistry.ts:441:50: ERROR: "await" can only be used inside an "async" function
Error: Transform failed with 1 error:
/home/glebs/IdeaProjects/ragdb/untitled/src/mcp/registry/MCPRegistry.ts:441:50: ERROR: "await" can only be used inside an "async" function
    at failureErrorWithLog (/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/esbuild/lib/main.js:1462:15)
    at /mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/esbuild/lib/main.js:745:50
    at responseCallbacks.<computed> (/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/esbuild/lib/main.js:612:9)
    at handleIncomingPacket (/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/esbuild/lib/main.js:667:12)
    at Socket.readFromStdout (/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/esbuild/lib/main.js:590:7)
    at Socket.emit (node:events:524:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:191:23)
Error: Transform failed with 1 error:
/home/glebs/IdeaProjects/ragdb/untitled/src/mcp/registry/MCPRegistry.ts:441:50: ERROR: "await" can only be used inside an "async" function
    at failureErrorWithLog (/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/esbuild/lib/main.js:1462:15)
    at /mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/esbuild/lib/main.js:745:50
    at responseCallbacks.<computed> (/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/esbuild/lib/main.js:612:9)
    at handleIncomingPacket (/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/esbuild/lib/main.js:667:12)
    at Socket.readFromStdout (/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/esbuild/lib/main.js:590:7)
    at Socket.emit (node:events:524:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:191:23)
{
  "error": {
    "name": "TransformError"
  },
  "exception": true,
  "date": "Mon Jul 28 2025 22:23:03 GMT-0400 (Eastern Daylight Time)",
  "process": {
    "pid": 4040878,
    "uid": 1000,
    "gid": 1000,
    "cwd": "/home/glebs/IdeaProjects/ragdb/untitled/src",
    "execPath": "/home/glebs/.nvm/versions/node/v20.19.3/bin/node",
    "version": "v20.19.3",
    "argv": [
      "/home/glebs/.nvm/versions/node/v20.19.3/bin/node",
      "/home/glebs/IdeaProjects/ragdb/untitled/src/demo-integration.ts"
    ],
    "memoryUsage": {
      "rss": 125280256,
      "heapTotal": 35364864,
      "heapUsed": 23576960,
      "external": 3113266,
      "arrayBuffers": 384160
    }
  },
  "os": {
    "loadavg": [
      2,
      1.85,
      1.72
    ],
    "uptime": 246725.24
  },
  "trace": [
    {
      "column": 15,
      "file": "/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/esbuild/lib/main.js",
      "function": "failureErrorWithLog",
      "line": 1462,
      "method": null,
      "native": false
    },
    {
      "column": 50,
      "file": "/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/esbuild/lib/main.js",
      "function": null,
      "line": 745,
      "method": null,
      "native": false
    },
    {
      "column": 9,
      "file": "/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/esbuild/lib/main.js",
      "function": "responseCallbacks.<computed>",
      "line": 612,
      "method": "<computed>",
      "native": false
    },
    {
      "column": 12,
      "file": "/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/esbuild/lib/main.js",
      "function": "handleIncomingPacket",
      "line": 667,
      "method": null,
      "native": false
    },
    {
      "column": 7,
      "file": "/mnt/c/Users/glebs/AppData/Local/Programs/IntelliJ IDEA Ultimate/plugins/nodeJS/js/ts-file-loader/node_modules/esbuild/lib/main.js",
      "function": "Socket.readFromStdout",
      "line": 590,
      "method": "readFromStdout",
      "native": false
    },
    {
      "column": 28,
      "file": "node:events",
      "function": "Socket.emit",
      "line": 524,
      "method": "emit",
      "native": false
    },
    {
      "column": 12,
      "file": "node:internal/streams/readable",
      "function": "addChunk",
      "line": 561,
      "method": null,
      "native": false
    },
    {
      "column": 3,
      "file": "node:internal/streams/readable",
      "function": "readableAddChunkPushByteMode",
      "line": 512,
      "method": null,
      "native": false
    },
    {
      "column": 5,
      "file": "node:internal/streams/readable",
      "function": "Readable.push",
      "line": 392,
      "method": "push",
      "native": false
    },
    {
      "column": 23,
      "file": "node:internal/stream_base_commons",
      "function": "Pipe.onStreamRead",
      "line": 191,
      "method": "onStreamRead",
      "native": false
    }
  ]
}
